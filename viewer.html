<html>

<head>
  <title>Prototype Viewer v. 0.0.1.3</title>
  <script src="JS/jQuery.js"></script>
  <script src="JS/Bootstrap.js"></script>
  <script src="JS/ForeRunnerDB.js"></script>
  <script src="JS/inputdata.js"></script>
  <link rel="stylesheet" type="text/css" href="CSS/Bootstrap.css">
  <link rel="stylesheet" type="text/css" href="CSS/Bootstrap.css">
</head>

<body>
  <h1 align="center">Prototype Viewer v. 0.0.1.3</h1>
  <div id= "total"><h3>Total: 0 </h3></div>
  <button id = "latest10">Latest 10 Entries</button>
  <div class="col-x-9" align="right">
    <table class="table table-striped" id="stuffTable">
      <thead>
      <tr>
        <th>Date</th>
        <th>Amount</th>
        <th>Type</th>
        <th>Name</th>
      </tr>
    </thead>
    <tbody id="stuffBody">
      
    </tbody>
      
      
    </table>
  </div>
  
  
  
  <script>
    
    
    
    
    
    var total = 0;  
    function calculateTotal(){
      total = 0;
      var table = entryCollection.find();
      for(var i = 0; i < table.length; i++){
        total += parseInt(table[i].amount);
      }
      
      
      
      
      if(total < 0){
        $("#total").html("<h3 style='color:red'> Total: "+total+"</h3>");
        
      } else if(total >0){
        $("#total").html("<h3 style='color:green'> Total: "+total+"</h3>");
      }else{
        $("#total").html("<h3 style='color:black'> Total: "+total+"</h3>");
      }
      
      
    }
    
   
    entryCollection.load(function (err) {
    if (!err) {
        entryCollection.save();
        writeOnTable();
        calculateTotal();
    }
  });
  
  
  $("#latest10").on(click,function(){
    printOnTable({
      {},
      {
        $orderby:{date:-1},
        $limit: 10
      }
      
      
    });
    
    
  });
    
    
  </script>
  
  
</body>



</html>
