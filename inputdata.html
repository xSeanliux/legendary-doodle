
<html>

<head>
  <title>Test Input Page</title>
  <script src="JS/jQuery.js"></script>
  <script src="JS/Bootstrap.js"></script>
  <script src="JS/ForeRunnerDB.js"></script>
  <link rel="stylesheet" type="text/css" href="CSS/Bootstrap.css">
</head>

<body>
  
  
  <h1 align="center">Prototype Input v. 0.0.1.3</h1>
  </p></p>
  <div class="col-xs-3" align="center">
    <form>
      
      
      <label for="amount">Amount of money</label>
      <input type="number" class="form-control" id="amount"></number>
      
      <label for="type">Type of transaction: </label>
      <select class="form-control" id="type">
        <option>交通</option>
        <option>吃喝</option>
        <option>玩樂</option>
        <option>學業</option>
      </select>
    
    
      
      <label for="name">Name of transaction:</label>
      <input type="text" class="form-control" id="name">
      
      <label for="date">Date of transaction:</label>
      <input type="date" class="form-control" id="date">
      
      <button type="btn btn-submit" onclick="addToEntry()" id="submitbtn">Add</button>
    </form>
  </div>
  
  <div class="col-x-9" align="right">
    <table class="table table-striped" id="stuffTable">
      <thead>
      <tr>
        <th>Date</th>
        <th>Amount</th>
        <th>Type</th>
        <th>Name</th>
      </tr>
    </thead>
    <tbody id="stuffBody">
      
    </tbody>
      
      
    </table>
  </div>
  
  
  <script>
    var total = 0;
    var fdb = new ForerunnerDB();
    var db = fdb.db("myDatabaseName");
    var entryCollection = db.collection("entryCollection");
    
    
    function addToEntry(){
      console.log("Add button clicked")
      entryCollection.insert({
        amount: $("#amount").val(),
        name: $("#name").val(),
        date: $("#date").val(),
        type: $("#type").val()
        
      });
     
    }
    
    function writeOnTable(){
      $("#stuffBody").html("");
      for(var i = 0; i < entryCollection.length; i++){
          $("#stuffBody").append("<tr><td>entryCollection[i].date</td><td>entryCollection[i].amount</td><td>entryCollection[i].type</td><td>entryCollection[i].name</td></tr>");
      
      }
    }
    
    $("body #submitbtn").on("click",function(){
      console.log("Clicked Add button")
      addToEntry();
      writeOnTable();
    });
    
  </script>
</body>



</html>
